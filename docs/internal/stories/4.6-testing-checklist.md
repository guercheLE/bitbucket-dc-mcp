# Story 4.6 Authentication Setup Guide - Testing Checklist

## Purpose

This checklist validates the authentication setup guide (`docs/authentication.md`) for accuracy, completeness, and usability.

## Testing Date

**Date:** _____________  
**Tester:** _____________  
**Bitbucket Version:** _____________

---

## Pre-Testing Setup

- [ ] Access to Bitbucket Data Center instance (version 8.14+ for full testing)
- [ ] Bitbucket administrator access (for OAuth setup)
- [ ] Fresh test environment (no existing MCP server configuration)
- [ ] Documentation open: `docs/authentication.md`
- [ ] Notepad for recording issues/feedback

---

## Section 1: Documentation Structure

### Table of Contents
- [ ] All section links work correctly
- [ ] Anchors navigate to correct sections
- [ ] No broken internal links

### Quick Decision Guide
- [ ] Flowchart logic makes sense
- [ ] Recommendations match use cases
- [ ] Visual formatting renders correctly

### Overview
- [ ] Comparison table is accurate
- [ ] Bitbucket version requirements correct
- [ ] Security ratings make sense

**Notes:**
___________________________________________________________________
___________________________________________________________________

---

## Section 2: OAuth 2.0 Setup

### Prerequisites Validation
- [ ] Prerequisites list is complete
- [ ] Version check command works
- [ ] Bitbucket 8.0+ requirement verified

### Step-by-Step Setup
- [ ] Step 1: Navigate to Bitbucket admin console (instructions clear)
- [ ] Step 2: Create Application Link (steps accurate for Bitbucket UI)
- [ ] Step 3: Configure OAuth app (all fields documented)
- [ ] Step 4: Obtain client_id and client_secret (process clear)
- [ ] Step 5: Configure MCP server (examples work)
- [ ] Step 6: Authenticate (flow described accurately)

### Configuration Examples
- [ ] Environment variable example is valid
- [ ] Config file example is valid YAML
- [ ] Setup wizard instructions clear

### Common Errors
- [ ] `invalid_client` error documented accurately
- [ ] `invalid_redirect_uri` error solutions work
- [ ] `invalid_grant` error causes correct
- [ ] `access_denied` error troubleshooting helpful
- [ ] `callback_timeout` error solutions valid

### Screenshots
- [ ] 7 screenshot placeholders present
- [ ] Placeholder descriptions match setup steps

**Issues Found:**
___________________________________________________________________
___________________________________________________________________

**Setup Time Actual:** _________ minutes (estimated: 10-15 min)

---

## Section 3: Personal Access Token (PAT) Setup

### Prerequisites Validation
- [ ] Prerequisites list is complete
- [ ] Version check command works
- [ ] Bitbucket 8.14+ requirement verified

### Step-by-Step Setup
- [ ] Step 1: Access Bitbucket profile (instructions clear)
- [ ] Step 2: Navigate to PAT page (navigation accurate)
- [ ] Step 3: Create token (process documented correctly)
- [ ] Step 4: Configure token details (all options explained)
- [ ] Step 5: Copy token (warning about "only shown once" prominent)
- [ ] Step 6: Configure MCP server (examples work)

### Token Expiration Handling
- [ ] Monitoring expiration documented
- [ ] Rotation process clear
- [ ] Automation example helpful

### Configuration Examples
- [ ] Environment variable example valid
- [ ] Config file example valid
- [ ] CI/CD examples applicable

### Common Errors
- [ ] `invalid_token` error solutions work
- [ ] `insufficient_permissions` error documented
- [ ] `invalid_token_format` error clear

### Screenshots
- [ ] 6 screenshot placeholders present
- [ ] Placeholder descriptions match setup steps

**Issues Found:**
___________________________________________________________________
___________________________________________________________________

**Setup Time Actual:** _________ minutes (estimated: 5 min)

---

## Section 4: OAuth 1.0a Setup

### Prerequisites Validation
- [ ] Prerequisites list complete
- [ ] RSA key generation requirements clear
- [ ] Bitbucket 7.x+ compatibility verified

### RSA Key Generation
- [ ] Private key generation command works
- [ ] Public key extraction command works
- [ ] PKCS8 conversion command works (if needed)
- [ ] Key security instructions clear

### Step-by-Step Setup
- [ ] Step 1: Access Bitbucket admin console
- [ ] Step 2: Navigate to Application Links
- [ ] Step 3: Create application link
- [ ] Step 4: Configure application details
- [ ] Step 5: Configure incoming auth (public key)
- [ ] Step 6: Verify link created

### Three-Legged Flow
- [ ] Flow diagram accurate
- [ ] Steps explained clearly
- [ ] Authorization process documented

### Configuration Examples
- [ ] Environment variable example valid
- [ ] Config file example valid
- [ ] RSA-SHA1 vs HMAC-SHA1 explained

### Common Errors
- [ ] `signature_invalid` error solutions work
- [ ] `token_rejected` error documented
- [ ] `timestamp_refused` error solutions valid
- [ ] `consumer_key_unknown` error clear
- [ ] `nonce_used` error explained

### Screenshots
- [ ] 8 screenshot placeholders present
- [ ] Placeholder descriptions accurate

**Issues Found:**
___________________________________________________________________
___________________________________________________________________

**Setup Time Actual:** _________ minutes (estimated: 15-20 min)

---

## Section 5: Basic Auth Setup

### Security Warnings
- [ ] HTTPS requirement prominent
- [ ] Security risks clearly stated
- [ ] Development-only warning clear

### Prerequisites Validation
- [ ] HTTPS verification command works
- [ ] Prerequisites list complete

### Step-by-Step Setup
- [ ] Credential verification instructions clear
- [ ] Configuration examples valid
- [ ] Security warnings displayed during setup

### How Basic Auth Works
- [ ] Credential encoding explained accurately
- [ ] Authorization header format correct
- [ ] Security implications clear

### Common Errors
- [ ] `401 Unauthorized` error solutions work
- [ ] `403 Forbidden` error documented
- [ ] `account_locked` error solutions valid
- [ ] `http_basic_auth_forbidden` error clear

### Migration Guidance
- [ ] Migration options documented
- [ ] Migration steps clear
- [ ] Alternatives recommended

**Issues Found:**
___________________________________________________________________
___________________________________________________________________

**Setup Time Actual:** _________ minutes (estimated: 2 min)

---

## Section 6: Troubleshooting

### Diagnostics Commands
- [ ] `test-connection` command documented
- [ ] `auth info` command works
- [ ] `config validate` command explained
- [ ] `auth list` command documented
- [ ] `auth delete` command works
- [ ] Debug logging instructions clear

### Error Categories
- [ ] 401 Unauthorized errors documented thoroughly
- [ ] 403 Forbidden errors solutions work
- [ ] Network connectivity errors covered
- [ ] Invalid redirect URI errors explained

### Diagnostics Checklist
- [ ] 10-step checklist is comprehensive
- [ ] All steps are actionable
- [ ] Commands provided work

### FAQ
- [ ] General authentication questions answered
- [ ] OAuth 2.0 specific questions covered
- [ ] PAT specific questions covered
- [ ] OAuth 1.0a specific questions answered
- [ ] Basic Auth questions documented
- [ ] Credential management questions clear
- [ ] Troubleshooting questions helpful
- [ ] At least 20 Q&A pairs present

**Issues Found:**
___________________________________________________________________
___________________________________________________________________

---

## Section 7: Best Practices

### Auth Method Selection Guide
- [ ] Production recommendations make sense
- [ ] Development recommendations appropriate
- [ ] Legacy Bitbucket guidance accurate

### Security Considerations
- [ ] Token rotation schedules reasonable
- [ ] Automation examples helpful
- [ ] Least privilege explained clearly
- [ ] Secure credential storage documented

### Credential Lifecycle Management
- [ ] Creation best practices clear
- [ ] Rotation process documented
- [ ] Revocation procedures accurate

### Monitoring and Auditing
- [ ] Events to monitor listed
- [ ] Monitoring examples helpful
- [ ] Bitbucket audit log guidance clear
- [ ] Security metrics appropriate

### Production Deployment
- [ ] Pre-deployment checklist comprehensive
- [ ] HA considerations documented
- [ ] Zero-downtime rotation explained

### Development & Testing
- [ ] Dev environment practices clear
- [ ] CI/CD recommendations applicable
- [ ] Local development workflow helpful

### Version Control
- [ ] .gitignore examples correct
- [ ] Pre-commit hook example works
- [ ] What not to commit is clear

**Issues Found:**
___________________________________________________________________
___________________________________________________________________

---

## Section 8: Additional Resources

### Link Validation
- [ ] All external links work (not 404)
- [ ] Bitbucket official docs links valid
- [ ] OAuth spec links correct
- [ ] Security resources accessible
- [ ] Project internal links work

### Resource Coverage
- [ ] Official Bitbucket docs comprehensive
- [ ] OAuth specs complete
- [ ] Security best practices covered
- [ ] Tools and libraries relevant

**Broken Links:**
___________________________________________________________________

---

## Cross-Cutting Concerns

### Code Examples
- [ ] All YAML examples are valid syntax
- [ ] All bash commands work
- [ ] All curl examples functional
- [ ] Code highlighting renders correctly

### Cross-References
- [ ] Internal document links work
- [ ] Architecture doc references valid
- [ ] Story references accurate

### Accessibility
- [ ] Screenshot alt text descriptive
- [ ] Code examples have language tags
- [ ] Headings structured logically
- [ ] Tables formatted correctly

### Consistency
- [ ] Terminology consistent throughout
- [ ] Formatting consistent
- [ ] Examples follow same style
- [ ] Voice/tone appropriate

**Issues Found:**
___________________________________________________________________
___________________________________________________________________

---

## Overall Assessment

### Clarity
- [ ] Instructions are easy to follow
- [ ] Technical concepts explained adequately
- [ ] No confusing jargon without explanation

### Completeness
- [ ] All 4 auth methods documented
- [ ] Common errors covered
- [ ] Troubleshooting comprehensive
- [ ] Best practices thorough

### Accuracy
- [ ] Technical details correct
- [ ] Version requirements accurate
- [ ] Commands work as documented
- [ ] Screenshots (placeholders) match described steps

### Usability
- [ ] A beginner could follow the guide
- [ ] Examples are practical
- [ ] Troubleshooting helps resolve issues
- [ ] TOC makes navigation easy

---

## Beta Tester Feedback Template

**Tester Name:** _____________  
**Bitbucket Version:** _____________  
**Auth Method Tested:** _____________  
**Date:** _____________

### What Worked Well
___________________________________________________________________
___________________________________________________________________
___________________________________________________________________

### What Was Confusing
___________________________________________________________________
___________________________________________________________________
___________________________________________________________________

### What's Missing
___________________________________________________________________
___________________________________________________________________
___________________________________________________________________

### Suggestions for Improvement
___________________________________________________________________
___________________________________________________________________
___________________________________________________________________

### Overall Rating (1-5)
- **Clarity:** ☐1 ☐2 ☐3 ☐4 ☐5
- **Completeness:** ☐1 ☐2 ☐3 ☐4 ☐5
- **Accuracy:** ☐1 ☐2 ☐3 ☐4 ☐5
- **Usability:** ☐1 ☐2 ☐3 ☐4 ☐5

---

## Testing Summary

**Total Issues Found:** _________  
**Critical Issues:** _________  
**Minor Issues:** _________  
**Suggestions:** _________

**Recommendation:**
- [ ] ✅ Ready for release (no critical issues)
- [ ] ⚠️ Ready with minor fixes (document issues, fix before release)
- [ ] ❌ Needs major revision (too many critical issues)

**Tester Signature:** _____________  
**Date:** _____________

---

## Post-Testing Actions

**For Documentation Team:**
- [ ] Review all issues found
- [ ] Prioritize fixes (critical → minor → suggestions)
- [ ] Update documentation
- [ ] Re-test critical issue fixes
- [ ] Update screenshot placeholders (when screenshots available)
- [ ] Final review before marking story complete

**For Product Owner:**
- [ ] Review testing results
- [ ] Approve documentation quality
- [ ] Decide on release readiness
- [ ] Coordinate beta tester recruitment (if needed)
